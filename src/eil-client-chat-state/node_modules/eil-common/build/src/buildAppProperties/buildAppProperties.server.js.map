{"version":3,"sources":["eil-common/src/buildAppProperties/buildAppProperties.server.js"],"names":["addFormat","name","validate","val","downcased","toLowerCase","Error","buildAppProperties","schema","customEnv","config","strict"],"mappings":";;;;;;;;AACA;;;;AAEA;;;;;;AAEA,kBAAQA,SAAR,CAAkB;AAChBC,QAAM,SADU;AAEhBC,UAFgB,oBAEPC,GAFO,EAEF;AACZ,QAAMC,YAAY,CAACD,OAAO,EAAR,EAAYE,WAAZ,EAAlB;AACA,QAAI,EAAED,cAAc,EAAd,IAAoBA,cAAc,MAAlC,IAA4CA,cAAc,OAA1D,IAAqEA,cAAc,GAAnF,IAA0FA,cAAc,GAA1G,CAAJ,EAAoH;AAClH,YAAM,IAAIE,KAAJ,CAAU,6CAAV,CAAN;AACD;AACF;AAPe,CAAlB;;AAUA;AACA,SAASC,kBAAT,GAA6G;AAAA,MAAvEC,MAAuE,uEAAtD,EAAsD;AAAA,MAAlDC,SAAkD,uEAA7B,EAA6B;;AAC3G,MAAMC,SAAkC,0EAEnCF,MAFmC,EAAxC;;AAKAE,SAAOR,QAAP,CAAgB,EAAES,QAAQ,IAAV,EAAhB;;AAEA,SAAOD,MAAP;AACD;;kBAEcH,kB","file":"eil-common/src/buildAppProperties/buildAppProperties.server.js","sourcesContent":["//@flow\nimport convict from 'convict';\n\nimport defaultSchema from './appPropertiesDefaultSchema';\n\nconvict.addFormat({\n  name: 'boolean',\n  validate(val) {\n    const downcased = (val || '').toLowerCase();\n    if (!(downcased === '' || downcased === 'true' || downcased === 'false' || downcased === '1' || downcased === '0')) {\n      throw new Error('A boolean must be one of: true, false, 0, 1');\n    }\n  },\n});\n\n// eslint-disable-next-line no-unused-vars\nfunction buildAppProperties<PropList>(schema: Object = {}, customEnv?: Object = {}): AppProperties<PropList> {\n  const config: AppProperties<PropList> = convict({\n    ...defaultSchema,\n    ...schema,\n  });\n\n  config.validate({ strict: true });\n\n  return config;\n}\n\nexport default buildAppProperties;\n"],"sourceRoot":"/source/"}
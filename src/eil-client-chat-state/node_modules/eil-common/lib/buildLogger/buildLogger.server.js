'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = buildLogger;

var _bunyan = require('bunyan');

var _bunyan2 = _interopRequireDefault(_bunyan);

var _ = require('..');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function buildLogger(_ref) {
  var name = _ref.name,
      appProperties = _ref.appProperties;

  var env = appProperties.get('env') || "development";
  var configLogLevel = appProperties.get('logger.level');
  var level = configLogLevel && configLogLevel !== 'env' ? configLogLevel : (0, _.logLevel)(env);
  var streams = (0, _.logStreams)();

  return _bunyan2.default.createLogger({
    name: name,
    level: level,
    src: env !== 'production',
    serializers: _bunyan2.default.stdSerializers,
    streams: streams
  });
}
//# sourceMappingURL=buildLogger.server.js.map

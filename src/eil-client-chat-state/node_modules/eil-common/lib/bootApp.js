'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = bootApp;

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _loopbackBoot = require('loopback-boot');

var _loopbackBoot2 = _interopRequireDefault(_loopbackBoot);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function bootApp(app) {
  return new Promise(function (resolve, reject) {
    app.on('booted', function () {
      return resolve(app);
    });

    // if not already booting (flag is set by loopback-boot), boot it now
    if (!app.booting) {
      var bootOptions = {
        appRootDir: _path2.default.join(__dirname, '../src/server'),
        bootDirs: ['eil-platform-remotes/lib/server/boot']
      };

      (0, _loopbackBoot2.default)(app, bootOptions, function (err) {
        return err && reject(err);
      });
    }
  });
}
//# sourceMappingURL=bootApp.js.map

//@flow

const defaultLevels = {
  production: "warn",
  development: "debug",
  test: "warn",
  default: "info",
};

/**
 * Return a logLevel for the given environment.
 * @param  {string} env          A string representing the enviroment to retrieve the log level for
 * @param  {Object} options
 *         * levels - a map of new or overridden environment -> logLevel
 *         * defaultLevel (info) -
 * @param  {[type]} defaultLevel Changes the default logLevel for any non-specified environments (default: info)
 * @return {string}              The log level for the environment
 */
export default function logLevel(env: string, options: { levels?: {[key: string]: string }, defaultLevel?: string} = {}): string {
  const {
    levels = {},
    defaultLevel = defaultLevels.default,
  } = options;

  const _levels:{[key:string]: string} = {
    ...defaultLevels,
    ...levels
  };

  return _levels[env] || defaultLevel;
}
